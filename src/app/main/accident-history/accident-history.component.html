<div id="forms" class="page-layout simple fullwidth" fxLayout="column">
	<div class="content p-16">
		<div class="pt-16 pb-32" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
			<form (ngSubmit)="onSubmit(myForm)" class="mat-card mat-elevation-z4 p-24 pb-32" #myForm="ngForm"
				ngNativeValidate fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto">
				<div class="h2 mb-24">Accident History</div>
				<div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Bus Number</mat-label>
						<mat-select [(ngModel)]="busNumber" placeholder="Bus Number" name="busNumber" #busNumberSelect
							required>
							<ng-container *ngFor="let data of busData">
								<mat-option [value]="data.auto_inc_id">
									{{data.bus_no}}
								</mat-option>
							</ng-container>
						</mat-select>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Driver Name</mat-label>
						<mat-select [(ngModel)]="driverName" name="driverName" required>
							<ng-container *ngFor="let data of driverData">
								<mat-option [value]="data.auto_inc_id">
									{{data.employee_name}}
								</mat-option>
							</ng-container>
						</mat-select>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Accident Date</mat-label>
						<input matInput [matDatepicker]="picker2" (focus)="picker2.open()" autocomplete="off"
							name="date" [(ngModel)]="date" placeholder="Accident Date" required>
						<mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
						<mat-datepicker #picker2></mat-datepicker>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Place of Accident</mat-label>
						<input matInput type="text" autocomplete="off" name="placeofAccident" [(ngModel)]="placeofAccident"
							placeholder="Place of Accident" required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Insurance Claim Status</mat-label>
						<input matInput type="text" autocomplete="off" name="claimStatus" [(ngModel)]="claimStatus"
							placeholder="Insurance Claim Status" required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Insurance Company</mat-label>
						<input matInput type="text" autocomplete="off" name="insuranceCompany" [(ngModel)]="insuranceCompany"
							placeholder="Insurance Company" required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Case Status</mat-label>
						<input matInput type="text" autocomplete="off" name="caseStatus" [(ngModel)]="caseStatus" placeholder="Case Status"
							required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Lawyer Name</mat-label>
						<input matInput type="text" autocomplete="off" name="lawyerName" [(ngModel)]="lawyerName"
							placeholder="Lawyer Name" required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Lawyer Mobile Number</mat-label>
						<input matInput type="number" autocomplete="off" name="mobileNumber" [(ngModel)]="mobileNumber"
							placeholder="Lawyer Mobile Number" required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Case Review Date</mat-label>
						<input matInput [matDatepicker]="picker3" (focus)="picker3.open()" autocomplete="off" name="date" [(ngModel)]="reviewDate"
							placeholder="Case Review Date" required>
						<mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
						<mat-datepicker #picker3></mat-datepicker>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Settlement Amount</mat-label>
						<input matInput type="number" autocomplete="off" name="settlementAmount" [(ngModel)]="settlementAmount"
							placeholder="Settlement Amount" required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Insurance Officer Number</mat-label>
						<input matInput type="number" autocomplete="off" name="officerMobileNumber" [(ngModel)]="officerMobileNumber"
							placeholder="Insurance Officer Number" required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Insurance Amount Claimed</mat-label>
						<input matInput type="number" autocomplete="off" name="insAmountClaimed" [(ngModel)]="insAmountClaimed"
							placeholder="Insurance Amount Claimed" required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<mat-form-field fxFlex="33" appearance="outline">
						<mat-label>Insurance Amount Received</mat-label>
						<input matInput type="number" autocomplete="off" name="insAmountReceived" [(ngModel)]="insAmountReceived"
							placeholder="Insurance Amount Received" required>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
					<div style="width: 50%;">
						<mat-label>Image</mat-label>
						<input #imageInput type="file" multiple autocomplete="off" placeholder="Image" accept="image/*"
							(change)="uploadedFile($event)">
					</div>
					<div style="width: 50%;">
						<ng-container *ngFor="let data of imageUrl">
							<img class="image-preview" [src]="data">
						</ng-container>
					</div>
				</div>
				<div align="center">
					<button mat-raised-button color="accent" class="submit-button" aria-label="Submit">Submit</button>
				</div>
			</form>

		</div>
		<div class="mat-elevation-z8 fuse-card auto-width p-8" fxLayout="column" fxLayoutAlign="center center"
			fxLayout.gt-xs="row" fxLayoutAlign.gt-xs="flex-end center">
			<mat-form-field appearance="outline" class="noPaddingBottom">
				<input matInput (keyup)="applyFilter($event.target.value)" autocomplete="off" placeholder="Search">
			</mat-form-field>
		</div>
		<div class="pt-16 pb-32" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
			<table mat-table [dataSource]="dataSource">

				<ng-container matColumnDef="sno">
					<th mat-header-cell *matHeaderCellDef>S.No. </th>
					<td mat-cell *matCellDef="let row;let i=index;"> {{ i + 1 }} </td>
				</ng-container>

				<ng-container matColumnDef="bus_name">
					<th mat-header-cell *matHeaderCellDef>Bus Number </th>
					<td mat-cell *matCellDef="let row"> {{row.bus_name}} </td>
				</ng-container>

				<ng-container matColumnDef="claim_status">
					<th mat-header-cell *matHeaderCellDef>Claim Status </th>
					<td mat-cell *matCellDef="let row"> {{row.claim_status}} </td>
				</ng-container>

				<ng-container matColumnDef="case_status">
					<th mat-header-cell *matHeaderCellDef>Case Status </th>
					<td mat-cell *matCellDef="let row"> {{row.case_status}} </td>
				</ng-container>

				<ng-container matColumnDef="ins_amount_claimed">
					<th mat-header-cell *matHeaderCellDef>Amount Claimed </th>
					<td mat-cell *matCellDef="let row"> {{row.ins_amount_claimed}} </td>
				</ng-container>

				<ng-container matColumnDef="ins_amount_received">
					<th mat-header-cell *matHeaderCellDef>Amoumt Received </th>
					<td mat-cell *matCellDef="let row"> {{row.ins_amount_received}} </td>
				</ng-container>

				<ng-container matColumnDef="settlement_amount">
					<th mat-header-cell *matHeaderCellDef>Settlement Amount </th>
					<td mat-cell *matCellDef="let row"> {{row.settlement_amount}} </td>
				</ng-container>

				<ng-container matColumnDef="action">
					<th mat-header-cell *matHeaderCellDef> Action </th>
					<td mat-cell *matCellDef="let row">
						<div style="display: flex;justify-content: center;">
							<button type="button" mat-icon-button title="Edit" color="accent" (click)="edit(row)">
								<mat-icon>edit</mat-icon>
							</button>
							<button mat-icon-button type="button" title="Delete" class="actionBtn" color="accent"
								(click)="delete(row)">
								<mat-icon>delete</mat-icon>
							</button>
						</div>
					</td>
				</ng-container>

				<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
				<tr mat-row *matRowDef="let row; columns: displayedColumns;">
				</tr>
			</table>
		</div>
		<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
	</div>
</div>